### Configure the backend server for logs retrieval

sudo yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
sudo yum install -y git nano unzip jq p7zip
git clone https://github.com/petekofod/strolr2.git
cd strolr2/scripts
sudo su
mkdir /usr/bin/strolr2
cp functions-lib /usr/bin/strolr2/
cp STROLR2 /usr/bin/strolr2/
cp -r workers/ /usr/bin/strolr2/
cd system/
cp strolr2.conf /etc/
cp strolr2.service /etc/systemd/system

# Use “nano /etc/strolr2.conf” to update the location of the logs.

cd ../../../
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
./aws/install

/usr/local/bin/aws --version
Expected output is:
    aws-cli/2.0.17 Python/3.7.3 Linux/3.10.0-1062.12.1.el7.x86_64 botocore/2.0.0dev21

# Use “/usr/local/bin/aws configure” to set up the AWS client.

chmod +x /usr/bin/strolr2/STROLR2
chmod +x /usr/bin/strolr2/workers/*
systemctl enable strolr2
systemctl start strolr2

# Status requests configuration

cd strolr2/scripts/system
cp stros.service /etc/systemd/system

# Use “nano /etc/strolr2.conf” to update the SQS queues urls

cd ..
cp STROS /usr/bin/strolr2/
chmod +x /usr/bin/strolr2/STROS

systemctl enable stros
systemctl start stros